<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Computer Vision - Generalized Hough Transform</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/ntnuerc.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <script src="https://daybrush.com/scenejs/release/latest/dist/scene.min.js"></script>
		
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <script src="js/ntnu.js"></script>
    </head>
    <body>
        <div class="reveal">
        <div class="slides">
            
<section id="start" data-state="start">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1> Computer Vision - Generalized Hough Transform</h1>

   <div class="author" style="text-align:center;">
    
<p>
      Jacky Baltes<br>
      National Taiwan Normal University<br>
      Taipei, Taiwan<br>
      <a href="mailto:jacky.baltes@ntnu.edu.tw">jacky.baltes@ntnu.edu.tw</a><br>
</p>

   </div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-ab4f536f-6a7c-4dae-8fbd-aabb67c83c35" ><span id="id-ab4f536f-6a7c-4dae-8fbd-aabb67c83c35"><img id="img-id-ab4f536f-6a7c-4dae-8fbd-aabb67c83c35"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-fa7098e7-93bc-4ca7-9855-4042feda81ec" ><span id="id-fa7098e7-93bc-4ca7-9855-4042feda81ec"><img id="img-id-fa7098e7-93bc-4ca7-9855-4042feda81ec" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00003_frag_00001" data-state="slide_00003_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">matplotlib.pyplot</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">plt</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">numpy</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #0000FF; font-weight: bold">np</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">math</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">random</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">arrayToPre</span>( arr ):
    s <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;&lt;pre&gt;&quot;</span> <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span>
    <span style="color: #008000; font-weight: bold">for</span> y <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(arr) ):
        <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( <span style="color: #008000">len</span>(arr[y] ) ):
            s <span style="color: #666666">=</span> s <span style="color: #666666">+</span> <span style="color: #BA2121">&#39; </span><span style="color: #BB6688; font-weight: bold">{0:3d}</span><span style="color: #BA2121">&#39;</span><span style="color: #666666">.</span>format(arr[y,x] )
        s <span style="color: #666666">=</span> s <span style="color: #666666">+</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&#39;</span>
    s <span style="color: #666666">=</span> s <span style="color: #666666">+</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6622; font-weight: bold">\n</span><span style="color: #BA2121">&#39;</span>
    s <span style="color: #666666">=</span> s <span style="color: #666666">+</span> <span style="color: #BA2121">&#39;&lt;/pre&gt;&#39;</span>
    <span style="color: #008000; font-weight: bold">return</span> s

shape <span style="color: #666666">=</span> np<span style="color: #666666">.</span>array( [ [ <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ], 
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ], 
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ], 
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ],
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ],
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ],
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span> ],
                    [ <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">0</span> ],
                    [ <span style="color: #666666">0</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">1</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span> ] ] )
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-917d704c-85f4-4e29-a0bf-830c162460f0" ><span id="id-917d704c-85f4-4e29-a0bf-830c162460f0"><img id="img-id-917d704c-85f4-4e29-a0bf-830c162460f0"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-10989cba-ef1d-4962-8e07-f5e976070009" ><span id="id-10989cba-ef1d-4962-8e07-f5e976070009"><img id="img-id-10989cba-ef1d-4962-8e07-f5e976070009" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="introduction" data-state="introduction">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Generalized Hough Transform</h1>

<ul>
<li><p>Extend Hough transform to other shapes that can be represented by a fixed set of
parameters.</p></li>

<li><p>Assume that we want to find the following shape</p>
<pre>
   1   1   1   1   1   1   1
   0   0   0   0   1   1   1
   0   0   0   0   1   1   1
   0   0   0   0   0   1   1
   0   0   0   0   0   1   1
   0   0   0   0   0   1   1
   0   0   0   0   0   1   1
   1   1   0   0   1   1   0
   0   1   1   1   1   0   0

</pre>
           

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-51cee940-b1d9-42c2-b608-a5ceeffaffd8" ><span id="id-51cee940-b1d9-42c2-b608-a5ceeffaffd8"><img id="img-id-51cee940-b1d9-42c2-b608-a5ceeffaffd8"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-c749881d-67b0-4bf7-9614-b5e284aa2910" ><span id="id-c749881d-67b0-4bf7-9614-b5e284aa2910"><img id="img-id-c749881d-67b0-4bf7-9614-b5e284aa2910" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00005_frag_00001" data-state="slide_00005_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">createImage</span>( width, height, shape, nRect <span style="color: #666666">=</span> <span style="color: #666666">0</span>, nNoise <span style="color: #666666">=</span> <span style="color: #666666">0</span>, nShapes <span style="color: #666666">=</span> <span style="color: #666666">0</span> ):
    img <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros( ( height, width ) )
    height, width <span style="color: #666666">=</span> img<span style="color: #666666">.</span>shape
    sheight, swidth <span style="color: #666666">=</span> shape<span style="color: #666666">.</span>shape

    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( nRect ):
        x <span style="color: #666666">=</span> <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> width )
        y <span style="color: #666666">=</span> <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> height )
        size <span style="color: #666666">=</span> <span style="color: #666666">1</span> <span style="color: #666666">+</span> <span style="color: #008000">int</span>( random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> width<span style="color: #666666">/2</span> )
        img[ y:y<span style="color: #666666">+</span>size, x:x<span style="color: #666666">+</span>size ] <span style="color: #666666">=</span> <span style="color: #666666">1.0</span>

    <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( nShapes ):
        x <span style="color: #666666">=</span> <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> ( width <span style="color: #666666">-</span> swidth ) )
        y <span style="color: #666666">=</span> <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> ( height <span style="color: #666666">-</span> sheight ) )
        img[y:y<span style="color: #666666">+</span>sheight, x:x<span style="color: #666666">+</span>swidth ] <span style="color: #666666">=</span> shape
        
    <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( nNoise ):
        <span style="color: #008000; font-weight: bold">if</span> random<span style="color: #666666">.</span>random() <span style="color: #666666">&gt;</span> <span style="color: #666666">0.5</span>:
            c <span style="color: #666666">=</span> <span style="color: #666666">1.0</span>
        <span style="color: #008000; font-weight: bold">else</span>:
            c <span style="color: #666666">=</span> <span style="color: #666666">0.0</span>
        img[ <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> height), <span style="color: #008000">int</span>(random<span style="color: #666666">.</span>random() <span style="color: #666666">*</span> width) ] <span style="color: #666666">=</span> c

    
    <span style="color: #008000; font-weight: bold">return</span> img
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-e9949de9-c900-4d4a-999e-7ebd8d3546a9" ><span id="id-e9949de9-c900-4d4a-999e-7ebd8d3546a9"><img id="img-id-e9949de9-c900-4d4a-999e-7ebd8d3546a9"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-fbba4687-f54a-41b2-ae02-45c83bbad1b5" ><span id="id-fbba4687-f54a-41b2-ae02-45c83bbad1b5"><img id="img-id-fbba4687-f54a-41b2-ae02-45c83bbad1b5" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00006_frag_00001" data-state="slide_00006_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">cv2</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">templateMatching</span>(img, shape ):
    <span style="color: #408080; font-style: italic">#print(img.shape, img.dtype)</span>
    g <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>filter2D( img, cv2<span style="color: #666666">.</span>CV_64F, shape )
    r <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros( g<span style="color: #666666">.</span>shape )
    b <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros( g<span style="color: #666666">.</span>shape )
    <span style="color: #408080; font-style: italic">#print(g.shape, g.dtype)</span>
    <span style="color: #008000; font-weight: bold">return</span> cv2<span style="color: #666666">.</span>merge( (r, g<span style="color: #666666">/</span>np<span style="color: #666666">.</span>max(g), b) )
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-646824eb-92df-400f-9dc3-07158abc85d4" ><span id="id-646824eb-92df-400f-9dc3-07158abc85d4"><img id="img-id-646824eb-92df-400f-9dc3-07158abc85d4"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-ec33f99a-c5b2-43cf-a893-9a8eba4d104d" ><span id="id-ec33f99a-c5b2-43cf-a893-9a8eba4d104d"><img id="img-id-ec33f99a-c5b2-43cf-a893-9a8eba4d104d" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00007_frag_00001" data-state="slide_00007_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>img <span style="color: #666666">=</span> createImage( <span style="color: #666666">64</span>, <span style="color: #666666">48</span>, shape, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">5</span> )
fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Original Image&#39;</span>)

ax1<span style="color: #666666">.</span>imshow(img, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&#39;gray&#39;</span>)
ax1<span style="color: #666666">.</span>set_xticks([])
ax1<span style="color: #666666">.</span>set_yticks([])

out <span style="color: #666666">=</span> templateMatching( img, shape )

b,g,r <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>split( out )

mg <span style="color: #666666">=</span> np<span style="color: #666666">.</span>max(g)
b <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( g <span style="color: #666666">&gt;=</span> mg, <span style="color: #666666">1.0</span>, <span style="color: #666666">0.0</span> )
g <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( b <span style="color: #666666">==</span> <span style="color: #666666">1</span>, <span style="color: #666666">0.0</span>, g )

<span style="color: #408080; font-style: italic">#print(r.shape, g.shape, b.shape )</span>
<span style="color: #408080; font-style: italic">#print(r.dtype, g.dtype, b.dtype )</span>

out2 <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>merge( (r, g, b) )
ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Output of Convolution&#39;</span>)

ax2<span style="color: #666666">.</span>imshow(out2)
ax2<span style="color: #666666">.</span>set_xticks([])
ax2<span style="color: #666666">.</span>set_yticks([])

tm <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;tm&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-03a36334-90c7-4411-9251-8c6cedbca63d" ><span id="id-03a36334-90c7-4411-9251-8c6cedbca63d"><img id="img-id-03a36334-90c7-4411-9251-8c6cedbca63d"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-de0bd4c7-c0e3-40a2-8e97-ba1a09b9bde8" ><span id="id-de0bd4c7-c0e3-40a2-8e97-ba1a09b9bde8"><img id="img-id-de0bd4c7-c0e3-40a2-8e97-ba1a09b9bde8" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00008_frag_00001" data-state="slide_00008_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<span id="id-a87c97d7-f0bd-45c0-9364-ff545651a932" ><span id="id-a87c97d7-f0bd-45c0-9364-ff545651a932"><img id="img-id-a87c97d7-f0bd-45c0-9364-ff545651a932"     src="assets/images/tm.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-31344763-6779-4380-a27b-8a27a1746278" ><span id="id-31344763-6779-4380-a27b-8a27a1746278"><img id="img-id-31344763-6779-4380-a27b-8a27a1746278"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-3c012776-f770-498b-97eb-08215b569127" ><span id="id-3c012776-f770-498b-97eb-08215b569127"><img id="img-id-3c012776-f770-498b-97eb-08215b569127" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00009_frag_00001" data-state="slide_00009_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>img <span style="color: #666666">=</span> createImage( <span style="color: #666666">64</span>, <span style="color: #666666">48</span>, shape, <span style="color: #666666">0</span>, <span style="color: #666666">2000</span>, <span style="color: #666666">7</span> )
fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure()
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Original Image&#39;</span>)

ax1<span style="color: #666666">.</span>imshow(img, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&#39;gray&#39;</span>)
ax1<span style="color: #666666">.</span>set_xticks([])
ax1<span style="color: #666666">.</span>set_yticks([])

out <span style="color: #666666">=</span> templateMatching( img, shape )

b,g,r <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>split( out )

mg <span style="color: #666666">=</span> np<span style="color: #666666">.</span>max(g)
b <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( g <span style="color: #666666">&gt;=</span> mg, <span style="color: #666666">1.0</span>, <span style="color: #666666">0.0</span> )
g <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( b <span style="color: #666666">==</span> <span style="color: #666666">1</span>, <span style="color: #666666">0.0</span>, g )

<span style="color: #408080; font-style: italic">#print(r.shape, g.shape, b.shape )</span>
<span style="color: #408080; font-style: italic">#print(r.dtype, g.dtype, b.dtype )</span>

out2 <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>merge( (r, g, b) )
ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Output of Convolution&#39;</span>)

ax2<span style="color: #666666">.</span>imshow(out2)
ax2<span style="color: #666666">.</span>set_xticks([])
ax2<span style="color: #666666">.</span>set_yticks([])

img_ <span style="color: #666666">=</span> addJBFigure( <span style="color: #BA2121">&quot;noise1&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-93f38a13-94a9-4f81-b1d6-f4133a26c9e5" ><span id="id-93f38a13-94a9-4f81-b1d6-f4133a26c9e5"><img id="img-id-93f38a13-94a9-4f81-b1d6-f4133a26c9e5"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-9a553ff1-b644-4c90-9847-753048dcbd71" ><span id="id-9a553ff1-b644-4c90-9847-753048dcbd71"><img id="img-id-9a553ff1-b644-4c90-9847-753048dcbd71" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00010_frag_00001" data-state="slide_00010_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Convolution with Noise</h1>

<span id="id-aa4abb1b-f6ae-4b22-91a1-821b26cbed74" ><span id="id-aa4abb1b-f6ae-4b22-91a1-821b26cbed74"><img id="img-id-aa4abb1b-f6ae-4b22-91a1-821b26cbed74"     src="assets/images/noise1.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-8414b236-9a8f-4b7b-9ccd-c039f3cd68ce" ><span id="id-8414b236-9a8f-4b7b-9ccd-c039f3cd68ce"><img id="img-id-8414b236-9a8f-4b7b-9ccd-c039f3cd68ce"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-f9206356-8e91-4063-8890-15d939186610" ><span id="id-f9206356-8e91-4063-8890-15d939186610"><img id="img-id-f9206356-8e91-4063-8890-15d939186610" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00011_frag_00001" data-state="slide_00011_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">
<div class="document" id="generalized-hough-transform">
<h1 class="title">Generalized Hough Transform</h1>
<div class="jb-text docutils container">
<p>Any shape that can be represented with a fixed number of parameters can
be found using this approach.</p>
<p>Let us try and find the shape using the Generalized Hough transform</p>
</div>
</div>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-3820a9ff-acdb-4613-b7cd-46f816b5303b" ><span id="id-3820a9ff-acdb-4613-b7cd-46f816b5303b"><img id="img-id-3820a9ff-acdb-4613-b7cd-46f816b5303b"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-dc7e5474-866f-486d-be10-1269001a87cb" ><span id="id-dc7e5474-866f-486d-be10-1269001a87cb"><img id="img-id-dc7e5474-866f-486d-be10-1269001a87cb" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00012_frag_00001" data-state="slide_00012_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">generalizedHoughTransform</span>( img, shape ):
    height, width <span style="color: #666666">=</span> img<span style="color: #666666">.</span>shape
    sheight, swidth <span style="color: #666666">=</span> shape<span style="color: #666666">.</span>shape
    
    hough <span style="color: #666666">=</span> np<span style="color: #666666">.</span>zeros( img<span style="color: #666666">.</span>shape )
    <span style="color: #008000; font-weight: bold">for</span> y <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( height ):
        <span style="color: #008000; font-weight: bold">for</span> x <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( width ):
            pix <span style="color: #666666">=</span> img[y,x]
            <span style="color: #008000; font-weight: bold">for</span> sy <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( sheight ):
                <span style="color: #008000; font-weight: bold">for</span> sx <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>( swidth ):
                    <span style="color: #008000; font-weight: bold">if</span> shape[sy,sx] <span style="color: #666666">==</span> pix:
                        cx <span style="color: #666666">=</span> x <span style="color: #666666">-</span> sx <span style="color: #666666">+</span> swidth<span style="color: #666666">//2</span>
                        cy <span style="color: #666666">=</span> y <span style="color: #666666">-</span> sy <span style="color: #666666">+</span> sheight<span style="color: #666666">//2</span>
                        <span style="color: #008000; font-weight: bold">if</span> ( cx <span style="color: #666666">&gt;=</span> <span style="color: #666666">0</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( cx <span style="color: #666666">&lt;</span> width ) <span style="color: #AA22FF; font-weight: bold">and</span> ( cy <span style="color: #666666">&gt;=</span> <span style="color: #666666">0</span> ) <span style="color: #AA22FF; font-weight: bold">and</span> ( cy <span style="color: #666666">&lt;</span> height ):
                            hough[cy,cx] <span style="color: #666666">=</span> hough[cy,cx] <span style="color: #666666">+</span> <span style="color: #666666">1</span>
    <span style="color: #008000; font-weight: bold">return</span> hough
</pre></div>

</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-4c4e2ded-4d58-4d1c-997b-f757e4bfaa2a" ><span id="id-4c4e2ded-4d58-4d1c-997b-f757e4bfaa2a"><img id="img-id-4c4e2ded-4d58-4d1c-997b-f757e4bfaa2a"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-b4124805-9f52-46b2-a288-cd82fdc0c396" ><span id="id-b4124805-9f52-46b2-a288-cd82fdc0c396"><img id="img-id-b4124805-9f52-46b2-a288-cd82fdc0c396" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00013_frag_00001" data-state="slide_00013_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">
<div class="jb-input jb-render jb-code" style="text-align:center">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-input-code jb-render">
<div style="font-size:0.5em"><!-- start of style="font-size:0.5em" -->
<div class="highlight" style="background: #f8f8f8; color:#101010;display=inline-block;"><pre style="line-height: 125%"><span></span>img <span style="color: #666666">=</span> createImage( <span style="color: #666666">64</span>, <span style="color: #666666">48</span>, shape, <span style="color: #666666">10</span>, <span style="color: #666666">500</span>, <span style="color: #666666">7</span> )
fig <span style="color: #666666">=</span> plt<span style="color: #666666">.</span>figure( figsize<span style="color: #666666">=</span>(<span style="color: #666666">10</span>,<span style="color: #666666">10</span>))
ax1 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">3</span>,<span style="color: #666666">1</span>)
ax1<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Original Image&#39;</span>)

ax1<span style="color: #666666">.</span>imshow(img, cmap<span style="color: #666666">=</span><span style="color: #BA2121">&#39;gray&#39;</span>)
ax1<span style="color: #666666">.</span>set_xticks([])
ax1<span style="color: #666666">.</span>set_yticks([])

h <span style="color: #666666">=</span> generalizedHoughTransform( img, shape )
hm <span style="color: #666666">=</span> np<span style="color: #666666">.</span>max(h)
hlim <span style="color: #666666">=</span> <span style="color: #666666">0.9</span> <span style="color: #666666">*</span> hm

<span style="color: #408080; font-style: italic">#print(r.shape, g.shape, b.shape )</span>
<span style="color: #408080; font-style: italic">#print(r.dtype, g.dtype, b.dtype )</span>
b <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( h <span style="color: #666666">&gt;=</span> hlim, <span style="color: #666666">1.0</span>, <span style="color: #666666">0.0</span> )
g <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( b <span style="color: #666666">==</span> <span style="color: #666666">1</span>, <span style="color: #666666">0.0</span>, h )

out2 <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>merge( (h<span style="color: #666666">/</span>hm,h<span style="color: #666666">/</span>hm,h<span style="color: #666666">/</span>hm) )
out2[ h <span style="color: #666666">&gt;</span> hlim ] <span style="color: #666666">=</span> (<span style="color: #666666">255</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span> )

ax2 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">3</span>,<span style="color: #666666">2</span>)
ax2<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Output of Generalized Hough Transform&#39;</span>)

ax2<span style="color: #666666">.</span>imshow(out2)
ax2<span style="color: #666666">.</span>set_xticks([])
ax2<span style="color: #666666">.</span>set_yticks([])

ax3 <span style="color: #666666">=</span> fig<span style="color: #666666">.</span>add_subplot(<span style="color: #666666">1</span>,<span style="color: #666666">3</span>,<span style="color: #666666">3</span>)
ax3<span style="color: #666666">.</span>set_title(<span style="color: #BA2121">&#39;Output of Convolution&#39;</span>)

out3 <span style="color: #666666">=</span> templateMatching( img, shape )

b,g,r <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>split( out3 )

mg <span style="color: #666666">=</span> <span style="color: #666666">0.9</span> <span style="color: #666666">*</span> np<span style="color: #666666">.</span>max(g)
b <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( g <span style="color: #666666">&gt;=</span> mg, <span style="color: #666666">1.0</span>, <span style="color: #666666">0.0</span> )
g <span style="color: #666666">=</span> np<span style="color: #666666">.</span>where( b <span style="color: #666666">==</span> <span style="color: #666666">1</span>, <span style="color: #666666">0.0</span>, g )

<span style="color: #408080; font-style: italic">#print(r.shape, g.shape, b.shape )</span>
<span style="color: #408080; font-style: italic">#print(r.dtype, g.dtype, b.dtype )</span>

out3 <span style="color: #666666">=</span> cv2<span style="color: #666666">.</span>merge( (r, g, b) )

ax3<span style="color: #666666">.</span>imshow(out3)
ax3<span style="color: #666666">.</span>set_xticks([])
ax3<span style="color: #666666">.</span>set_yticks([])

hm <span style="color: #666666">=</span> addJBFigure(<span style="color: #BA2121">&quot;hm&quot;</span>, <span style="color: #666666">0</span>, <span style="color: #666666">0</span>, fig )
plt<span style="color: #666666">.</span>close()
</pre></div>

</div><!-- end of style="font-size:0.5em" -->
</div><!-- end of jb-input-code jb-render -->

</div>

</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-710afbbd-e374-4d66-9989-06e1d41366e7" ><span id="id-710afbbd-e374-4d66-9989-06e1d41366e7"><img id="img-id-710afbbd-e374-4d66-9989-06e1d41366e7"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-8003374a-934e-4f3e-b660-2c5bc53b4947" ><span id="id-8003374a-934e-4f3e-b660-2c5bc53b4947"><img id="img-id-8003374a-934e-4f3e-b660-2c5bc53b4947" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
<section id="slide_00014_frag_00001" data-state="slide_00014_frag_00001">


<!-- Header -->
  

<!-- Background -->


<!-- Slide -->
<div class="jb-slide">

<div class="jb-output-code jb-render">

<!-- start embedded style -->

<!-- end embedded style -->
<div class="jb-output jb-render">

<h1>Output of Generalized Hough Transform</h1>

<span id="id-ddfebae4-9c71-4479-b83b-e6b7156a939f" ><span id="id-ddfebae4-9c71-4479-b83b-e6b7156a939f"><img id="img-id-ddfebae4-9c71-4479-b83b-e6b7156a939f"     src="assets/images/hm.svg"/></span>
</span>

</div><!-- end of jb-output jb-render -->
</div><!-- end of jb-output-code jb-render -->


</div>
<!-- Footer -->

<div class="jb-footer-left plain">
    <span id="id-eeb97389-aed4-4743-8000-dac98258f2fd" ><span id="id-eeb97389-aed4-4743-8000-dac98258f2fd"><img id="img-id-eeb97389-aed4-4743-8000-dac98258f2fd"     src="assets/images/logo.png"/></span>
</span>

</div>
<div class="jb-footer-right plain">
    <span id="id-227cd620-bfd3-47a6-adce-09764864e677" ><span id="id-227cd620-bfd3-47a6-adce-09764864e677"><img id="img-id-227cd620-bfd3-47a6-adce-09764864e677" width="162" height="138"   src="assets/images/robbi.png"/></span>
</span>

</div>

<aside class="notes">

</aside>



</section>
        </div>
        </div>

        <script src="js/reveal.js"></script>

        <script>
            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                math: {
                    mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
                    config: 'TeX-AMS_HTML-full',  // See http://docs.mathjax.org/en/latest/config-files.html
                    // tex2jax: {
                    //     inlineMath: [['$', '$'], ['\(', '\)']],
                    //     displayMath: [['$$', '$$'], ['\[', '\]']],
                    //     processEscapes: true,
                    //     processEnvironments: true,
                    //     skipTags: ['script', 'noscript', 'style', 'textarea', 'code', 'pre'],
                    //     displayAlign: 'center',
                    // }                
                },
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/math/math.js', async: true }
                ]
            });
        </script>

        <script>
            <!-- Assets -->
var assets = {
"robbi" : new JBImage( "robbi", "12677", "162", "138", null, null, "assets/images/robbi", "png" ),
"logo" : new JBImage( "logo", "12033", "0", "0", null, null, "assets/images/logo", "png" ),
"fira-logo-1" : new JBImage( "fira-logo-1", "93836", "0", "0", null, null, "assets/images/FIRA-logo-1", "png" ),
"pairLogo" : new JBImage( "pairLogo", "63051", "0", "0", null, null, "assets/images/pairLogo", "png" ),
"tm" : new JBImage( "tm", "23599", "0", "0", null, null, "assets/images/tm", "svg" ),
"noise1" : new JBImage( "noise1", "30711", "0", "0", null, null, "assets/images/noise1", "svg" ),
"hm" : new JBImage( "hm", "49818", "0", "0", null, null, "assets/images/hm", "svg" ) 
};
var assetInstances = {
    "id-fa7098e7-93bc-4ca7-9855-4042feda81ec": assets["robbi"],
    "id-10989cba-ef1d-4962-8e07-f5e976070009": assets["robbi"],
    "id-c749881d-67b0-4bf7-9614-b5e284aa2910": assets["robbi"],
    "id-fbba4687-f54a-41b2-ae02-45c83bbad1b5": assets["robbi"],
    "id-ec33f99a-c5b2-43cf-a893-9a8eba4d104d": assets["robbi"],
    "id-de0bd4c7-c0e3-40a2-8e97-ba1a09b9bde8": assets["robbi"],
    "id-3c012776-f770-498b-97eb-08215b569127": assets["robbi"],
    "id-9a553ff1-b644-4c90-9847-753048dcbd71": assets["robbi"],
    "id-f9206356-8e91-4063-8890-15d939186610": assets["robbi"],
    "id-dc7e5474-866f-486d-be10-1269001a87cb": assets["robbi"],
    "id-b4124805-9f52-46b2-a288-cd82fdc0c396": assets["robbi"],
    "id-8003374a-934e-4f3e-b660-2c5bc53b4947": assets["robbi"],
    "id-227cd620-bfd3-47a6-adce-09764864e677": assets["robbi"],
    "id-ab4f536f-6a7c-4dae-8fbd-aabb67c83c35": assets["logo"],
    "id-917d704c-85f4-4e29-a0bf-830c162460f0": assets["logo"],
    "id-51cee940-b1d9-42c2-b608-a5ceeffaffd8": assets["logo"],
    "id-e9949de9-c900-4d4a-999e-7ebd8d3546a9": assets["logo"],
    "id-646824eb-92df-400f-9dc3-07158abc85d4": assets["logo"],
    "id-03a36334-90c7-4411-9251-8c6cedbca63d": assets["logo"],
    "id-31344763-6779-4380-a27b-8a27a1746278": assets["logo"],
    "id-93f38a13-94a9-4f81-b1d6-f4133a26c9e5": assets["logo"],
    "id-8414b236-9a8f-4b7b-9ccd-c039f3cd68ce": assets["logo"],
    "id-3820a9ff-acdb-4613-b7cd-46f816b5303b": assets["logo"],
    "id-4c4e2ded-4d58-4d1c-997b-f757e4bfaa2a": assets["logo"],
    "id-710afbbd-e374-4d66-9989-06e1d41366e7": assets["logo"],
    "id-eeb97389-aed4-4743-8000-dac98258f2fd": assets["logo"],
    "id-a87c97d7-f0bd-45c0-9364-ff545651a932": assets["tm"],
    "id-aa4abb1b-f6ae-4b22-91a1-821b26cbed74": assets["noise1"],
    "id-ddfebae4-9c71-4479-b83b-e6b7156a939f": assets["hm"]
};
<!-- End of Assets -->

            convertURLs(assetInstances, "smart-path");
        </script>
        <script>
            <!-- Characters -->
var characters =
{};
<!-- End of Characters -->

        </script>
    </body>
</html>